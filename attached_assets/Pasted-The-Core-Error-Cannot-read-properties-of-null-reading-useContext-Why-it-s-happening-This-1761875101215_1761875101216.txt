The Core Error â€” â€œCannot read properties of null (reading 'useContext')â€
ğŸ”¹ Why itâ€™s happening

This comes from this line inside useAuth.ts:

const { data: user, isLoading } = useQuery({...})


React Queryâ€™s useQuery() needs a QueryClientProvider in your React tree.
If that provider isnâ€™t wrapping your <App />, useContext fails because thereâ€™s no QueryClient context.

âœ… Fix

Check your main.tsx (or index.tsx) and make sure it looks like this:

import React from "react";
import ReactDOM from "react-dom/client";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import App from "./App";

const queryClient = new QueryClient();

ReactDOM.createRoot(document.getElementById("root")!).render(
  <React.StrictMode>
    <QueryClientProvider client={queryClient}>
      <App />
    </QueryClientProvider>
  </React.StrictMode>
);


If you already have that, make sure the component using useAuth() is not rendered before this provider mounts.

ğŸ§© 2ï¸âƒ£ â€œInvalid Hook Callâ€ Warnings

These mean React is being duplicated in your project â€” typically Replit installed two different React versions.
Check your dependencies in package.json:

"dependencies": {
  "react": "^18.3.1",
  "react-dom": "^18.3.1",
  "@tanstack/react-query": "^5.0.0"
}


Then run in the Replit shell:

npm ls react


If you see more than one version (for example both 17.x and 18.x), fix it by forcing a single one:

npm install react@18.3.1 react-dom@18.3.1


Then restart the Replit run.

ğŸ§© 3ï¸âƒ£ Content Security Policy Warnings

These:

The source list for the Content Security Policy directive 'default-src' contains an invalid source: ''unsafe-dynamic''.


are Replit sandbox issues, not your app. You can safely ignore them â€” they donâ€™t block rendering, just log noise from Replitâ€™s internal CSP enforcement.

ğŸ§© 4ï¸âƒ£ Misc errors (useToast, useState null)

These occur after the main React crash â€” once React fails to mount, any child hooks (useToast, useQueryClient, etc.) all break because thereâ€™s no React context. Fixing the provider/react duplication above usually clears them all.

âœ… TL;DR Checklist

âœ… Wrap your <App /> in <QueryClientProvider>.

âœ… Ensure only one version of React & React-DOM.

âœ… Ignore CSP console warnings in Replit.

âœ… Restart Replit after npm install or dependency change.