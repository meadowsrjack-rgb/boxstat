are using the old AppDelegate/UIWindow lifecycle and have not adopted UIScene support, which is expected for modern UIKit apps (especially on recent versions of iOS). This will cause problems in the future and is likely the root of some push notification issues.

Solution:
You need to add a SceneDelegate.swift file and update your Info.plist to include the UIApplicationSceneManifest key. You'll also need to move window handling into your SceneDelegate.

⸻

2. Unsatisfiable Constraints
You have a lot of layout constraint issues, probably unrelated to push, but can create UI instability. These are usually caused by conflicting or incomplete Auto Layout constraints, often generated by Interface Builder or custom toolbars/buttons.

⸻

3. Firebase Push – FCM Token
You are getting an FCM token, so registration works. If you are not receiving push notifications:
• Ensure your APNs Key/cert is properly uploaded to Firebase.
• Make sure the push payload from your backend is correct.
• Make sure your device is not in a foreground-only state (some payloads deliver only in background).
• If using method swizzling, your delegate methods will be swizzled by Firebase unless you set FirebaseAppDelegateProxyEnabled to NO in Info.plist.

⸻

Checklist for Push
• [x] Registered for remote notifications: Yes
• [x] FCM token received: Yes
• [ ] Received actual push notification: No
• [ ] UIScene lifecycle adopted: No (should update)

⸻

Next Steps

1. Adopt UIScene lifecycle.
2. Check push payload and APNs configuration in Firebase console.
3. If still stuck, enable debug logging for Firebase Messaging.

Before proceeding, please confirm if you need help with:
• Migrating to UIScene lifecycle (SceneDelegate, Info.plist update)
• Debugging your push payload and notification handling
• Fixing the Auto Layout warnings

Let me know which area you want to address first.

⸻

For UIScene migration, I need to see:
• Your current Info.plist regarding scene configuration (look for UIApplicationSceneManifest)
• If you have a SceneDelegate.swift